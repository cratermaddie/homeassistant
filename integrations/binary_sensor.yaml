- platform: trend
  sensors:
    ph_rank_trend:
      entity_id: sensor.ph_ranking_scrape
      invert : true
      max_samples: 6

    mv_rank_trend:
      entity_id: sensor.mv_rank_scrape
      invert : true
      max_samples: 6

- platform: wyzesense
  device: auto

- platform: octoprint
  monitored_conditions:
    - Printing
    - Printing Error

- platform: ffmpeg_motion
  input: !secret west_camera_rtsp
  name: west_camera_motion
  changes: 1

- platform: ffmpeg_motion
  input: !secret east_camera_rtsp
  name: east_camera_motion
  changes: 1

- platform: ffmpeg_motion
  input: !secret print_camera_rtsp
  name: print_camera_motion
  changes: 1

- platform: template
  sensors:
      apple_tv_paused:
        value_template: >-
          {{ is_state('media_player.apple_tv', 'paused') }}
        delay_on:
          minutes: 30
      new_release:
        value_template: "{{ states('sensor.current_version') != states('sensor.release') }}"
        icon_template: mdi:arrow-up-bold-circle-outline
      bed_right_occupied:
          value_template: "{{ is_state('binary_sensor.bed_right', 'off') }}"
      bed_left_occupied:
          value_template: "{{ is_state('binary_sensor.bed_left', 'off') }}"
      ord_faa_err:
        value_template: "{{ states('binary_sensor.ord_arrival_delay') or states('binary_sensor.ord_closure') or states('binary_sensor.ord_departure_delay') or states('binary_sensor.ord_ground_delay') or states('binary_sensor.ord_ground_stop') }}"
      mdw_faa_err:
        value_template: "{{ states('binary_sensor.mdw_arrival_delay') or states('binary_sensor.mdw_closure') or states('binary_sensor.mdw_departure_delay') or states('binary_sensor.mdw_ground_delay') or states('binary_sensor.mdw_ground_stop') }}"
      going_to_ord_madison:
        value_template: >-
          {{ ('ORD' in state_attr('calendar.personal_trigger','location')) or ("O'Hare International Airport" in state_attr('calendar.personal_trigger','location')) }}
      going_to_mdw_madison:
        value_template: >-
          {{ ('MDW' in state_attr('calendar.personal_trigger','location')) or ("Midway International Airport" in state_attr('calendar.personal_trigger','location')) }}
      going_to_airport_madison:
        value_template: >-
          {{ states('binary_sensor.going_to_ord_madison') or states('binary_sensor.going_to_mdw_madison') }}
      going_to_ord_armond:
        value_template: >-
          {{ ('ORD' in state_attr('calendar.personal_trigger','location')) or ("O'Hare International Airport" in state_attr('calendar.personal_trigger','location')) }}
      going_to_mdw_armond:
        value_template: >-
          {{ ('MDW' in state_attr('calendar.personal_trigger','location')) or ("Midway International Airport" in state_attr('calendar.personal_trigger','location')) }}
      going_to_airport_armond:
        value_template: >-
          {{ states('binary_sensor.going_to_ord_armond') or states('binary_sensor.going_to_mdw_armond') }}